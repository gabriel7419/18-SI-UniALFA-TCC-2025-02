<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" 
              name="relatorio_perfil_acolhidos" 
              pageWidth="595" 
              pageHeight="842" 
              columnWidth="555" 
              leftMargin="20" 
              rightMargin="20" 
              topMargin="20" 
              bottomMargin="20" 
              uuid="perfil-acolhidos-uuid">
    
    <parameter name="TOTAL_ACOLHIDOS" class="java.lang.Long"/>
    <parameter name="ACOLHIDOS_ATIVOS" class="java.lang.Long"/>
    <parameter name="ACOLHIDOS_INATIVOS" class="java.lang.Long"/>
    <parameter name="MEDIA_IDADE" class="java.lang.Double"/>
    <parameter name="COM_RG" class="java.lang.Long"/>
    <parameter name="COM_CPF" class="java.lang.Long"/>
    <parameter name="COM_CERTIDAO" class="java.lang.Long"/>
    <parameter name="SEM_DOCUMENTOS" class="java.lang.Long"/>
    <parameter name="MASCULINO" class="java.lang.Long"/>
    <parameter name="FEMININO" class="java.lang.Long"/>
    <parameter name="PRIMEIRA_VEZ" class="java.lang.Long"/>
    <parameter name="RETORNOS" class="java.lang.Long"/>
    
    <field name="categoria" class="java.lang.String"/>
    <field name="descricao" class="java.lang.String"/>
    <field name="quantidade" class="java.lang.Long"/>
    <field name="percentual" class="java.lang.Double"/>
    
    <title>
        <band height="200">
            <staticText>
                <reportElement x="0" y="10" width="555" height="35" uuid="title-uuid"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="20" isBold="true"/>
                </textElement>
                <text><![CDATA[Relatório Estratégico]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="45" width="555" height="25" uuid="subtitle-uuid"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="14" isBold="true" isItalic="true"/>
                </textElement>
                <text><![CDATA[Perfil Demográfico dos Acolhidos]]></text>
            </staticText>
            <textField pattern="dd/MM/yyyy HH:mm">
                <reportElement x="0" y="75" width="555" height="20" uuid="date-uuid"/>
                <textElement textAlignment="Center">
                    <font size="9" isItalic="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Gerado em: " + new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm").format(new java.util.Date())]]></textFieldExpression>
            </textField>
            
            <!-- RESUMO EXECUTIVO -->
            <rectangle>
                <reportElement x="0" y="105" width="555" height="90" backcolor="#E8F4F8" uuid="resumo-bg"/>
                <graphicElement><pen lineWidth="1.5" lineColor="#007BFF"/></graphicElement>
            </rectangle>
            <staticText>
                <reportElement x="10" y="110" width="535" height="20" uuid="resumo-title"/>
                <textElement textAlignment="Center">
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[RESUMO EXECUTIVO]]></text>
            </staticText>
            
            <!-- Linha 1 -->
            <staticText>
                <reportElement x="20" y="140" width="130" height="15" uuid="label-total"/>
                <textElement><font size="9" isBold="true"/></textElement>
                <text><![CDATA[Total de Acolhidos:]]></text>
            </staticText>
            <textField>
                <reportElement x="150" y="140" width="80" height="15" uuid="field-total"/>
                <textElement><font size="9"/></textElement>
                <textFieldExpression><![CDATA[$P{TOTAL_ACOLHIDOS}]]></textFieldExpression>
            </textField>
            
            <staticText>
                <reportElement x="300" y="140" width="130" height="15" uuid="label-idade"/>
                <textElement><font size="9" isBold="true"/></textElement>
                <text><![CDATA[Média de Idade:]]></text>
            </staticText>
            <textField pattern="#0.0' anos'">
                <reportElement x="430" y="140" width="110" height="15" uuid="field-idade"/>
                <textElement><font size="9"/></textElement>
                <textFieldExpression><![CDATA[$P{MEDIA_IDADE}]]></textFieldExpression>
            </textField>
            
            <!-- Linha 2 -->
            <staticText>
                <reportElement x="20" y="160" width="130" height="15" uuid="label-ativos"/>
                <textElement><font size="9" isBold="true"/></textElement>
                <text><![CDATA[Acolhidos Ativos:]]></text>
            </staticText>
            <textField>
                <reportElement x="150" y="160" width="80" height="15" uuid="field-ativos"/>
                <textElement><font size="9"/></textElement>
                <textFieldExpression><![CDATA[$P{ACOLHIDOS_ATIVOS}]]></textFieldExpression>
            </textField>
            
            <staticText>
                <reportElement x="300" y="160" width="130" height="15" uuid="label-inativos"/>
                <textElement><font size="9" isBold="true"/></textElement>
                <text><![CDATA[Acolhidos Inativos:]]></text>
            </staticText>
            <textField>
                <reportElement x="430" y="160" width="110" height="15" uuid="field-inativos"/>
                <textElement><font size="9"/></textElement>
                <textFieldExpression><![CDATA[$P{ACOLHIDOS_INATIVOS}]]></textFieldExpression>
            </textField>
        </band>
    </title>
    
    <group name="categoriaGroup">
        <groupExpression><![CDATA[$F{categoria}]]></groupExpression>
        <groupHeader>
            <band height="40">
                <textField>
                    <reportElement x="0" y="10" width="555" height="25" uuid="section-title"/>
                    <box>
                        <pen lineWidth="0.5"/>
                        <topPen lineWidth="1.5" lineColor="#007BFF"/>
                        <bottomPen lineWidth="1.5" lineColor="#007BFF"/>
                    </box>
                    <textElement textAlignment="Center" verticalAlignment="Middle">
                        <font size="12" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$F{categoria}]]></textFieldExpression>
                </textField>
            </band>
        </groupHeader>
    </group>
    
    <columnHeader>
        <band height="30">
            <staticText>
                <reportElement mode="Opaque" x="0" y="0" width="250" height="30" backcolor="#007BFF" forecolor="#FFFFFF" uuid="ch1"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Descrição]]></text>
            </staticText>
            <staticText>
                <reportElement mode="Opaque" x="250" y="0" width="155" height="30" backcolor="#007BFF" forecolor="#FFFFFF" uuid="ch2"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Quantidade]]></text>
            </staticText>
            <staticText>
                <reportElement mode="Opaque" x="405" y="0" width="150" height="30" backcolor="#007BFF" forecolor="#FFFFFF" uuid="ch3"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Percentual]]></text>
            </staticText>
        </band>
    </columnHeader>
    
    <detail>
        <band height="25">
            <textField>
                <reportElement x="0" y="0" width="250" height="25" uuid="d1"/>
                <box leftPadding="5"><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{descricao}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="250" y="0" width="155" height="25" uuid="d2"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{quantidade}]]></textFieldExpression>
            </textField>
            <textField pattern="#0.0'%'">
                <reportElement x="405" y="0" width="150" height="25" uuid="d3"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{percentual}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    
    <pageFooter>
        <band height="30">
            <textField>
                <reportElement x="0" y="10" width="400" height="15" uuid="footer1"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["AlberguePro - Relatório Estratégico de Perfil dos Acolhidos"]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="450" y="10" width="80" height="15" uuid="footer2"/>
                <textElement textAlignment="Right">
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>
