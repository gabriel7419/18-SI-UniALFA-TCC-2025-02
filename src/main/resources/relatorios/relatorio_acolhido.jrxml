<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
                                  http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="relatorio_acolhidos" pageWidth="842" pageHeight="595" columnWidth="800"
              leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="70" uuid="d1f2e3a4-b5c6-7890-1234-abcdef123456">

    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>

    <parameter name="TOTAL_REGISTROS" class="java.lang.Integer"/>
    <parameter name="DATA_EMISSAO" class="java.util.Date"/>
    <parameter name="USUARIO_EMISSOR" class="java.lang.String"/>

    <queryString language="csv"><![CDATA[]]></queryString>

    <field name="id" class="java.lang.Long"/>
    <field name="nome" class="java.lang.String"/>
    <field name="dataNascimento" class="java.time.LocalDate"/>
    <field name="idade" class="java.lang.Integer"/>
    <field name="sexo" class="java.lang.String"/>
    <field name="naturalidade" class="java.lang.String"/>
    <field name="rg" class="java.lang.String"/>
    <field name="cpf" class="java.lang.String"/>
    <field name="dataIngresso" class="java.time.LocalDate"/>
    <field name="dataSaida" class="java.time.LocalDate"/>

    <title>
        <band height="100">
            <!-- Área reservada para o logo (será adicionado depois) -->
            <staticText>
                <reportElement x="0" y="10" width="100" height="60" uuid="c1d2e3f4-a5b6-7890-3333-444455556666"/>
                <box>
                    <pen lineWidth="1" lineStyle="Dashed" lineColor="#CCCCCC"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="8" isItalic="true"/>
                </textElement>
                <text><![CDATA[LOGO]]></text>
            </staticText>
            
            <!-- Nome do Sistema -->
            <staticText>
                <reportElement x="110" y="10" width="690" height="30" uuid="d1e2f3a4-b5c6-7890-3333-444455556666"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="20" isBold="true"/>
                </textElement>
                <text><![CDATA[AlberguePro]]></text>
            </staticText>
            
            <!-- Nome do Relatório -->
            <staticText>
                <reportElement x="110" y="45" width="690" height="25" uuid="e1f2a3b4-c5d6-7890-3333-444455556666"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="16" isBold="true"/>
                </textElement>
                <text><![CDATA[Relatório de Acolhidos]]></text>
            </staticText>
            
            <!-- Linha separadora -->
            <line>
                <reportElement x="0" y="80" width="800" height="1" uuid="f1a2b3c4-d5e6-7890-3333-444455556666"/>
                <graphicElement>
                    <pen lineWidth="2.0" lineColor="#000000"/>
                </graphicElement>
            </line>
        </band>
    </title>

    <columnHeader>
        <band height="30">
            <staticText>
                <reportElement mode="Opaque" x="0" y="0" width="35" height="30" backcolor="#D3D3D3" uuid="col-header-id-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[ID]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="35" y="0" width="210" height="30" backcolor="#D3D3D3" uuid="col-header-nome-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                    <paragraph leftIndent="5"/>
                </textElement>
                <text><![CDATA[Nome]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="245" y="0" width="75" height="30" backcolor="#D3D3D3" uuid="col-header-nasc-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[Nascimento]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="320" y="0" width="35" height="30" backcolor="#D3D3D3" uuid="col-header-idade-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[Idade]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="355" y="0" width="55" height="30" backcolor="#D3D3D3" uuid="col-header-sexo-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[Sexo]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="410" y="0" width="100" height="30" backcolor="#D3D3D3" uuid="col-header-nat-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                    <paragraph leftIndent="5"/>
                </textElement>
                <text><![CDATA[Naturalidade]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="510" y="0" width="70" height="30" backcolor="#D3D3D3" uuid="col-header-rg-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[RG]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="580" y="0" width="80" height="30" backcolor="#D3D3D3" uuid="col-header-cpf-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[CPF]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="660" y="0" width="75" height="30" backcolor="#D3D3D3" uuid="col-header-ent-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[Entrada]]></text>
            </staticText>

            <staticText>
                <reportElement mode="Opaque" x="735" y="0" width="75" height="30" backcolor="#D3D3D3" uuid="col-header-saida-001"/>
                <box>
                    <pen lineWidth="0.5" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true" size="10"/>
                </textElement>
                <text><![CDATA[Saída]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="27">
            <textField>
                <reportElement x="0" y="0" width="35" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
            </textField>

            <textField isStretchWithOverflow="true">
                <reportElement x="35" y="0" width="210" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Left"/>
                <textFieldExpression><![CDATA["   " + $F{nome}]]></textFieldExpression>
            </textField>

            <textField pattern="dd/MM/yyyy">
                <reportElement x="245" y="0" width="75" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{dataNascimento} != null ? java.util.Date.from($F{dataNascimento}.atStartOfDay(java.time.ZoneId.systemDefault()).toInstant()) : null]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="320" y="0" width="35" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{idade}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="355" y="0" width="55" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{sexo}]]></textFieldExpression>
            </textField>

            <textField isStretchWithOverflow="true">
                <reportElement x="410" y="0" width="100" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Left"/>
                <textFieldExpression><![CDATA["   " + $F{naturalidade}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="510" y="0" width="70" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{rg}]]></textFieldExpression>
            </textField>

            <textField>
                <reportElement x="580" y="0" width="80" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{cpf}]]></textFieldExpression>
            </textField>

            <textField pattern="dd/MM/yyyy">
                <reportElement x="660" y="0" width="75" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{dataIngresso} != null ? java.util.Date.from($F{dataIngresso}.atStartOfDay(java.time.ZoneId.systemDefault()).toInstant()) : null]]></textFieldExpression>
            </textField>

            <textField pattern="dd/MM/yyyy">
                <reportElement x="735" y="0" width="75" height="27"/>
                <box><pen lineWidth="0.5"/></box>
                <textElement verticalAlignment="Middle" textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{dataSaida} != null ? java.util.Date.from($F{dataSaida}.atStartOfDay(java.time.ZoneId.systemDefault()).toInstant()) : null]]></textFieldExpression>
            </textField>
        </band>
    </detail>

    <pageFooter>
        <band height="50">
            <textField>
                <reportElement x="0" y="5" width="300" height="15" uuid="e1f2a3b4-c5d6-3333-4444-555566667777"/>
                <textElement verticalAlignment="Middle">
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Emitido em: " + new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm:ss").format($P{DATA_EMISSAO})]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="0" y="20" width="300" height="15" uuid="f1a2b3c4-d5e6-3333-4444-555566667777"/>
                <textElement verticalAlignment="Middle">
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Usuário: " + $P{USUARIO_EMISSOR}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="0" y="35" width="300" height="15" uuid="a1b2c3d4-e5f6-3333-4444-555566667777"/>
                <textElement verticalAlignment="Middle">
                    <font size="8" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Total de Acolhidos: " + $P{TOTAL_REGISTROS}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="700" y="20" width="100" height="15" uuid="b1c2d3e4-f5a6-3333-4444-555566667777"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            
            <textField evaluationTime="Report">
                <reportElement x="700" y="35" width="100" height="15" uuid="c1d2e3f4-a5b6-3333-4444-555566667777"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[" de " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>
